{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/browserify/lib/_empty.js","src/lib/axes/NumberAxis.ts","src/lib/axes/TimeAxis.ts","src/lib/axes/index.ts","src/lib/canvas/CanvasWrapper.ts","src/lib/canvas/Enums.ts","src/lib/canvas/index.ts","src/lib/core/Chart.ts","src/lib/core/ChartArea.ts","src/lib/core/ChartBoard.ts","src/lib/core/ChartStack.ts","src/lib/core/Enums.ts","src/lib/core/index.ts","src/lib/data/CandleArrayDataSource.ts","src/lib/data/index.ts","src/lib/indicator/SimpleIndicator.ts","src/lib/indicator/index.ts","src/lib/model/Candlestick.ts","src/lib/model/Point.ts","src/lib/model/index.ts","src/lib/render/AxisRenderer.ts","src/lib/render/CandlestickChartRenderer.ts","src/lib/render/Enums.ts","src/lib/render/LineChartRenderer.ts","src/lib/render/index.ts","src/lib/shared/Event.ts","src/lib/shared/index.ts","src/lychart.ts"],"names":[],"mappings":"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","file":"bundle.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","","/**\n * NumberAxis class.\n */\nimport { IRange } from '../shared';\nimport { IAxis } from './IAxis';\n\nexport class NumberAxis implements IAxis<number> {\n\n    private _range: IRange<number>;\n    private _w: number;\n    private _interval: number;\n\n    constructor(\n        width: number,\n        interval: number,         // Defines maximum zoom\n        initialRange: IRange<number>) {\n        this._w = width;\n        this._interval = interval;\n        this._range = initialRange;\n    }\n\n    public get range(): IRange<number> {\n        return this._range;\n    }\n\n    public get interval(): number {\n        return this._interval;\n    }\n\n    public get width(): number {\n        return this._w;\n    }\n\n    toX(value: number): number {\n        let range = Math.abs(this.range.end - this.range.start);\n        let min = Math.min(this.range.end, this.range.start);\n        let d = this.width / (range);\n        return d * (value - min);\n    }\n\n    move(direction: number): void {\n        direction = 0;\n    }\n\n    scale(direction: number): void {\n        direction = 0;\n    }\n}\n","﻿/** \n * TimeAxis class\n * \n * @classdesc Represents a chart's axis of numbers\n */\n\nimport { IRange } from '../shared';\nimport { IAxis } from './IAxis';\n\nexport class TimeAxis implements IAxis<Date> {\n\n    private _range: IRange<Date>;\n    private _w: number;\n    private _interval: number;\n\n    constructor(\n        width: number,\n        interval: number,         // Defines maximum zoom\n        initialRange: IRange<Date>) {\n        this._w = width;\n        this._interval = interval;\n        this._range = initialRange;\n    }\n\n    public get range(): IRange<Date> {\n        return this._range;\n    }\n\n    public get interval(): number {\n        return this._interval;\n    }\n\n    public get width(): number {\n        return this._w;\n    }\n\n    toX(value: Date): number {\n\n        if (value < this.range.start || value > this.range.end) {\n            throw new Error(`Date ${value} is out of range.`);\n        }\n\n        let total = Math.abs(this.range.end.getTime() - this.range.start.getTime());\n        let toDate = Math.abs(value.getTime() - this.range.start.getTime());\n        let x = (toDate / total) * this.width;\n\n        return x;\n    }\n\n    move(direction: number): void {\n        //direction = Math.round(direction);\n\n        if (direction == 0) {\n            return;\n        }\n\n        let curRangeInMs = Math.abs(this.range.end.getTime() - this.range.start.getTime()); // current range in millisencods\n\n        let shiftInMs = direction * curRangeInMs / this.width;\n\n        this._range = {\n            start: new Date(this.range.start.getTime() - shiftInMs),\n            end: new Date(this.range.end.getTime() - shiftInMs)\n        };\n    }\n\n    scale(direction: number): void {\n        let curRangeInMs = Math.abs(this.range.end.getTime() - this.range.start.getTime()); // current range in millisencods\n        let newRange = 0;\n\n        // Move date to the specified direction\n        if (direction > 0) { // zooming in\n            newRange = curRangeInMs * 0.9;\n\n            if (newRange / this.interval < 10) {\n                newRange = this.interval * 10;\n            }\n        }\n        else if (direction < 0) { // zooming out\n            newRange = curRangeInMs * 1.1;\n\n            if (newRange / this.interval > 1000) {\n                newRange = this.interval * 1000;\n            }\n        }\n\n        this._range = {\n            start: new Date(this.range.end.getTime() - newRange),\n            end: this.range.end\n        };\n    }\n}\n","/**\n * \n */\nimport { IAxis } from './IAxis';\nimport { NumberAxis } from './NumberAxis';\nimport { TimeAxis } from './TimeAxis';\n\nexport {\n    IAxis,\n    NumberAxis,\n    TimeAxis\n };\n","﻿/**\n * CanvasWrapper class.\n * \n * @classdesc Incapsulates usage of canvas.\n */\n\nimport { CanvasTextAlign, CanvasTextBaseLine } from './Enums';\nimport { ICanvas } from './ICanvas';\n\nexport class CanvasWrapper implements ICanvas {\n\n    private ctx: CanvasRenderingContext2D;\n\n    readonly w: number;\n    readonly h: number;\n    readonly dpr: number;\n\n    constructor(context: CanvasRenderingContext2D, width: number, height: number) {\n\n        this.ctx = context;\n        this.w = width;\n        this.h = height;\n        this.dpr = 1;\n\n        //this.ctx.translate(0.5, 0.5);\n        //this.ressize(width, height);\n    }\n\n    clear() {\n        this.ctx.clearRect(0, 0, this.w, this.h);\n    }\n\n    moveTo(x: number, y: number) {\n        this.ctx.moveTo(x * this.dpr, y * this.dpr);\n    }\n\n    lineTo(x: number, y: number) {\n        this.ctx.lineTo(x * this.dpr, y * this.dpr);\n    }\n\n    fillText(s: string, x: number, y: number) {\n        this.ctx.fillText(s, x * this.dpr, y * this.dpr);\n    }\n\n    fillRect(x: number, y: number, w: number, h: number) {\n        this.ctx.fillRect(x * this.dpr, y * this.dpr, w * this.dpr, h * this.dpr);\n    }\n\n    strokeRect(x: number, y: number, w: number, h: number) {\n        this.ctx.strokeRect(x * this.dpr, y * this.dpr, w * this.dpr, h * this.dpr);\n    }\n\n    // Used with beginPath() / stroke() / strokeStyle / fill()\n    rect(x: number, y: number, w: number, h: number) {\n        this.ctx.rect(x * this.dpr, y * this.dpr, w * this.dpr, h * this.dpr);\n    }\n\n    beginPath() {\n        this.ctx.beginPath();\n    }\n\n    stroke() {\n        this.ctx.stroke();\n    }\n\n    closePath() {\n        this.ctx.closePath();\n    }\n\n    setStrokeStyle(style: any) {\n        this.ctx.strokeStyle = style;\n    }\n\n    setFillStyle(style: any) {\n        this.ctx.fillStyle = style;\n    }\n\n    setTextAlign(v: CanvasTextAlign) {\n        this.ctx.textAlign = CanvasTextBaseLine[v].toLowerCase();\n    }\n\n    setTextBaseLine(v: CanvasTextBaseLine) {\n        this.ctx.textBaseline = CanvasTextBaseLine[v].toLowerCase();\n    }\n\n    measureText(text: string): TextMetrics {\n        return this.ctx.measureText(text);\n    }\n\n    strokeText(text: string, x: number, y: number, maxWidth?: number): void {\n        this.ctx.strokeText(text, x, y, maxWidth);\n    }\n}\n","﻿/**\n * Canvas related enumerations.\n */\n\nexport enum CanvasTextAlign {\n    Left,\n    Center,\n    Right\n}\n\nexport enum CanvasTextBaseLine {\n    Top,\n    Middle,\n    Bottom\n}\n","/**\n * \n */\nimport { CanvasWrapper } from './CanvasWrapper';\nimport { CanvasTextAlign, CanvasTextBaseLine } from './Enums';\nimport { ICanvas } from './ICanvas';\n\nexport {\n    CanvasTextAlign,\n    CanvasTextBaseLine,\n    CanvasWrapper,\n    ICanvas\n };\n","﻿/**\n * Chart class.\n */\nimport {RenderType} from '../render';\n\nexport class Chart {\n    constructor(\n        public dataSource: any,\n        public renderType: RenderType) {\n    }\n}\n","/**\n * ChartArea class.\n */\nimport { CanvasWrapper } from '../canvas';\n\nexport class ChartArea {\n\n    private _mainContext: CanvasWrapper;\n    private _axisXContext: CanvasWrapper;\n    private _axisYContext: CanvasWrapper;\n\n    public get mainContext(): CanvasWrapper {\n        return this._mainContext;\n    }\n\n    public get axisXContext(): CanvasWrapper {\n        return this._axisXContext;\n    }\n\n    public get axisYContext(): CanvasWrapper {\n        return this._axisYContext;\n    }\n\n    constructor(\n        mainCanvas: HTMLCanvasElement,\n        axisXCanvas: HTMLCanvasElement,\n        axisYCanvas: HTMLCanvasElement) {\n\n        this._mainContext = this.getContext(mainCanvas, mainCanvas.width, mainCanvas.height);\n        this._axisXContext = this.getContext(axisXCanvas, axisXCanvas.width, axisXCanvas.height);\n        this._axisYContext = this.getContext(axisYCanvas, axisYCanvas.width, axisYCanvas.height);\n    }\n\n    private getContext(el: HTMLCanvasElement, w: number, h: number): CanvasWrapper {\n        let ctx = el.getContext('2d');\n        if (ctx == null) {\n            throw new Error('Context is null');\n        }\n        return new CanvasWrapper(ctx, w, h);\n    }\n}\n","/**\n * ChartBoard class.\n * \n * @classdesc Facade for the chart library.\n */\n\nimport { RenderType } from '../render';\nimport { TimeInterval } from './Enums';\nimport { TimeAxis } from '../axes';\nimport { ChartArea } from './ChartArea';\nimport { ChartStack } from './ChartStack';\nimport { IDataSource } from '../data';\nimport { Candlestick, Point } from '../model';\nimport { IEventHandler, IHashTable } from '../shared';\nimport { IMouseHandler } from '../interaction';\nimport * as $ from 'jquery';\n\nexport class ChartBoard {\n\n    private table: HTMLTableElement;\n    private curInterval: TimeInterval = TimeInterval.day;\n    private timeAxis: TimeAxis;\n\n    private readonly areas: ChartArea[] = [];\n    private readonly chartStacks: ChartStack[] = [];\n\n    private readonly indicators: IDataSource<Point>[] = [];\n\n    private eventHandlers: IHashTable<IEventHandler<any>> = {};\n    private readonly mouseHandlers: IMouseHandler[] = [];\n\n    constructor(\n        private readonly container: HTMLElement,\n        private readonly w: number,\n        private readonly h: number,\n        private readonly dataSource: IDataSource<Candlestick>\n    ) {\n\n        this.table = document.createElement('table');\n        this.container.appendChild(this.table);\n\n        this.timeAxis = new TimeAxis(w, TimeInterval.day, { start: new Date(2017, 0, 1), end: new Date(2017, 0, 31) })\n\n        // Create main chart area\n        //\n        let mainArea = this.appendArea(this.table, w, h);\n        this.areas.push(mainArea);\n\n        let chartStack = new ChartStack(mainArea, this.timeAxis);\n        this.chartStacks.push(chartStack);\n\n        chartStack.addChart(dataSource, RenderType.Candlestick);\n\n        // Hook up event handlers\n        //\n        let self = this;\n\n        this.eventHandlers['mousewheel'] = function (event: any) { self.onMouseWheel(event); };\n        this.eventHandlers['mouseup'] = function (event: any) { self.onMouseUp(event); };\n        this.eventHandlers['mousedown'] = function (event: any) { self.onMouseDown(event); };\n        this.eventHandlers['mousemove'] = function (event: any) { self.onMouseMove(event); };\n        this.eventHandlers['mouseenter'] = function (event: any) { self.onMouseEnter(event); };\n        this.eventHandlers['mouseleave'] = function (event: any) { self.onMouseLeave(event); };\n\n        this.container.addEventListener('DOMMouseScroll', this.eventHandlers['mousewheel'], false);\n        this.container.addEventListener('mousewheel', this.eventHandlers['mousewheel'], false);\n        this.container.addEventListener('mouseup', this.eventHandlers['mouseup'], false);\n        this.container.addEventListener('mousedown', this.eventHandlers['mousedown'], false);\n        //this.container.addEventListener('mousemove', this.eventHandlers['mousemove'], false);\n        // TODO: Check if jQuery needed:\n        $(this.container).mousemove(this.eventHandlers['mousemove']);\n        this.container.addEventListener('mouseenter', this.eventHandlers['mouseenter'], false);\n        this.container.addEventListener('mouseleave', this.eventHandlers['mouseleave'], false);\n    }\n\n    private appendArea(table: HTMLTableElement, w: number, h: number) : ChartArea {\n\n        let mainCanvas = document.createElement('canvas');\n        mainCanvas.width = w;\n        mainCanvas.height = h;\n\n        let yCanvas = document.createElement('canvas');\n        yCanvas.width = 50;\n        yCanvas.height = h;\n\n        let xCanvas = document.createElement('canvas');\n        xCanvas.width = w;\n        xCanvas.height = 50;\n        \n        let row1 = table.insertRow();\n        let cell11 = row1.insertCell();\n        let cell12 = row1.insertCell();\n        let cell13 = row1.insertCell();\n\n        let row2 = table.insertRow();\n        let cell21 = row2.insertCell();\n        let cell22 = row2.insertCell();\n        let cell23 = row2.insertCell();\n\n        let row3 = table.insertRow();\n        let cell31 = row3.insertCell();\n        let cell32 = row3.insertCell();\n        let cell33 = row3.insertCell();\n\n        cell22.appendChild(mainCanvas);\n        cell32.appendChild(xCanvas);\n        cell23.appendChild(yCanvas);\n\n        return new ChartArea(mainCanvas, xCanvas, yCanvas);\n    }\n    \n    public addIndicator(indicatorDataSource: IDataSource<Point>) {\n        this.indicators.push(indicatorDataSource);\n\n        let newArea = this.appendArea(this.table, this.w, this.h);\n        this.areas.push(newArea);\n\n        let chartStack = new ChartStack(newArea, this.timeAxis);\n        chartStack.addChart(indicatorDataSource, RenderType.Line);\n        this.chartStacks.push(chartStack);\n    }\n\n    public render(): void {\n        for (var chartStack of this.chartStacks) {\n            chartStack.render();\n        }\n        \n    }\n\n    private onDataChanged(): void {\n\n    }\n\n    private onMouseWheel(event: any): void {\n        var ev = event;\n        if (false == !!event) event = window.event;\n\n        var direction = ((event.wheelDelta) ? event.wheelDelta / 120 : event.detail / -3) || 0;\n        if (direction) {\n            console.debug('Mousewhell event: ' + direction);\n            this.timeAxis.scale(direction);\n            // TODO: Use animation loop (?)\n            this.render();\n        }\n    }\n\n    private isMouseEntered = false;\n    private isMouseDown = false;\n    private x: number | null = null;\n    private y: number | null = null;\n\n    private onMouseMove(event: any): void {\n        if (this.isMouseDown && this.x && this.y) {\n            let diffX = event.pageX - this.x;\n            let diffY = event.pageY - this.y;\n\n            if (this.timeAxis) {\n                this.timeAxis.move(diffX);\n            }\n        }\n\n        [this.x, this.y] = [event.pageX, event.pageY];\n\n        if (this.isMouseEntered) {\n            // TODO: Use animation loop (?)\n            this.render();\n        }\n    }\n\n    private onMouseEnter(event: any): void {\n        this.isMouseEntered = true;\n        for (var handler of this.mouseHandlers) { handler.onMouseEnter(event); }\n    }\n\n    private onMouseLeave(event: any): void {\n        this.isMouseEntered = false;\n        this.isMouseDown = false;\n        for (var handler of this.mouseHandlers) { handler.onMouseLeave(event); }\n    }\n\n    private onMouseUp(event: any): void {\n        this.isMouseDown = false;        \n        for (var handler of this.mouseHandlers) { handler.onMouseUp(event); }\n    }\n\n    private onMouseDown(event: any): void {\n        this.isMouseDown = true;        \n        for (var handler of this.mouseHandlers) { handler.onMouseDown(event); }\n    }\n}\n","/**\n * ChartStack class.\n */\nimport { Chart } from './Chart';\nimport { ChartArea } from './ChartArea';\nimport { IAxis, NumberAxis } from '../axes';\nimport { IDataSource } from '../data';\nimport { RenderType, AxisRenderer, LineChartRenderer, CandlestickChartRenderer } from '../render';\n\nexport class ChartStack {\n\n    private charts: Chart[] = [];\n\n    constructor(\n        private area: ChartArea,\n        private timeAxis: IAxis<Date>) {\n    }\n\n    public addChart<T>(dataSource: IDataSource<T>, renderType: RenderType): void {\n        let newChart = new Chart(dataSource, renderType);\n        this.charts.push(newChart);\n    }\n\n    public render() {\n\n        this.area.mainContext.clear();\n        this.area.axisXContext.clear();\n        this.area.axisYContext.clear();\n\n        let height = this.area.axisYContext.h;\n\n        for(let chart of this.charts) {\n\n            let data = chart.dataSource.getData(this.timeAxis.range);\n            let yAxis = new NumberAxis(height, 1, { start: data.minOrdinateValue, end: data.maxOrdinateValue});\n\n            if(chart.renderType === RenderType.Candlestick) {\n                let candleRender = new CandlestickChartRenderer();\n                candleRender.render(this.area.mainContext, data, 0, 0, this.timeAxis, yAxis);\n            }\n            else if(chart.renderType === RenderType.Line) {\n                LineChartRenderer.render(this.area.mainContext, data, 0, 0, this.timeAxis, yAxis);\n            }\n            else{\n                throw new Error(`Unexpected RenderType ${ chart.renderType }`);\n            }\n        }\n\n        // render axis\n        AxisRenderer.renderDateAxis(this.timeAxis, this.area.axisXContext);\n    }\n}\n","﻿/**\n * Core enumerations.\n */\nexport enum TimeInterval {\n    // TODO: Number can vary.\n    month = 2592000000, // amount of milliseconds\n    week = 604800000,\n    day = 86400000,\n    hours4 = 14400000,\n    hour = 3600000,\n    min30 = 1800000,\n    min15 = 900000,\n    min5 = 300000,\n    min = 60000\n}\n\nexport enum Unit {\n    Price\n}\n","/**\n * \n */\n\nimport { Chart } from './Chart';\nimport { ChartArea } from './ChartArea';\nimport { ChartBoard } from './ChartBoard';\nimport { ChartStack } from './ChartStack';\nimport { TimeInterval, Unit } from './Enums';\n\nexport {\n    Chart,\n    ChartArea,\n    ChartBoard,\n    ChartStack,\n    TimeInterval,\n    Unit\n}\n","﻿/**\n * CandleArrayDataSource class.\n */\n\nimport { Candlestick } from '../model';\nimport { Event, IEvent, IRange } from '../shared';\nimport { IChartData, IDataSource } from './Interfaces';\n\nexport class CandleArrayDataSource implements IDataSource<Candlestick>\n{\n    private dateChangedEvent = new Event<void>();\n\n    constructor(\n        private data: Candlestick[]) {\n    }\n\n    public get dateChanged(): IEvent<void> {\n        return this.dateChangedEvent;\n    }\n\n    public getData(range: IRange<Date>): IChartData<Candlestick> {\n\n        let lowestPrice = Number.MAX_VALUE;\n        let highestPrice = Number.MIN_VALUE;\n\n        // Filter data by date and find min/max price\n        //\n        let filteredData: Candlestick[] = this.data\n            .filter(function (candle) {\n                if (candle.date >= range.start && candle.date <= range.end) {\n\n                    // update min / max values\n                    if (candle.l < lowestPrice) { lowestPrice = candle.l; }\n                    if (candle.h > highestPrice) { highestPrice = candle.h; }\n\n                    return true;\n                }\n                return false;\n            });\n\n        console.debug(`Data Source: min: ${lowestPrice} max: ${highestPrice} data.count: ${filteredData.length}`);\n\n        return {\n            data: filteredData,\n            maxOrdinateValue: highestPrice,\n            minOrdinateValue: lowestPrice\n        };\n    }\n}","/**\n * \n */\nimport { CandleArrayDataSource } from './CandleArrayDataSource';\nimport { IChartData, IDataSource } from './Interfaces';\n\nexport {\n    CandleArrayDataSource,\n    IChartData,\n    IDataSource\n};\n","/**\n * SimpleIndicator class.\n */\n\nimport { IChartData, IDataSource } from '../data';\nimport { Candlestick, Point } from '../model';\nimport { Event, IEvent, IRange } from '../shared';\n\nexport class SimpleIndicator implements IDataSource<Point> {\n    private dateChangedEvent = new Event<void>();\n\n    constructor(\n        private dataSource: IDataSource<Candlestick>) {\n        dataSource.dateChanged.on(this.onDataSourceChanged);\n    }\n\n    public get dateChanged(): IEvent<void> {\n        return this.dateChangedEvent;\n    }\n\n    public getData(range: IRange<Date>): IChartData<Point> {\n        let indicator: Point[] = [];\n        let sourceData = this.dataSource.getData(range);\n\n        for(let i = 3; i < sourceData.data.length; i++) {\n            let value = (sourceData.data[i-3].c\n                + sourceData.data[i-2].c\n                + sourceData.data[i-1].c) / 3;\n            indicator.push({ date: sourceData.data[i].date , value: value });\n        }\n\n        return {\n            data: indicator,\n            minOrdinateValue: sourceData.minOrdinateValue,\n            maxOrdinateValue: sourceData.maxOrdinateValue\n        };\n    }\n\n    protected onDataSourceChanged (arg?: void): void{\n        this.dateChangedEvent.trigger();\n    }\n}\n","/**\n * \n */\nimport { SimpleIndicator } from './SimpleIndicator';\n\nexport {\n    SimpleIndicator\n };\n","/**\n * Candlestick class.\n */\n\nexport class Candlestick {\n    public readonly date: Date;\n    public readonly c: number;\n    public readonly o: number;\n    public readonly h: number;\n    public readonly l: number;\n}\n","/**\n * Point class.\n */\n\nexport class Point {\n    public readonly date: Date;\n    public readonly value: number;\n}\n","/**\n * \n */\nimport { Candlestick } from './Candlestick';\nimport { Point } from './Point';\n\nexport { Candlestick, Point };\n","/**\n * AxisRenderer\n * \n * @classdesc Contains methods for rendering axes.\n */\n\nimport { IAxis } from '../axes';\nimport { ICanvas } from '../canvas';\nimport { TimeInterval } from '../core';\nimport { IRange } from '../shared';\n\nexport class AxisRenderer {\n\n    public static renderDateAxis(dateAxis: IAxis<Date>, canvas: ICanvas): void {\n\n        let scaleFit = new ScaleFit(dateAxis.width, dateAxis.interval, dateAxis.range);\n        let bars: Date[] = scaleFit.getBars();\n\n        canvas.setStrokeStyle('black');\n        canvas.beginPath();\n\n        for (var bar of bars) {\n        \n            let x = dateAxis.toX(bar);\n            \n            this.drawBar(canvas, bar, x);\n        }\n\n        canvas.stroke();\n        canvas.closePath();\n    }\n\n    private static drawBar(canvas: ICanvas, date: Date, x: number) : void {\n\n        // draw bar\n        canvas.moveTo(x, 7);\n        canvas.lineTo(x, 10);\n\n        // draw time mark\n        // TODO: Use toString(\"yyyy-mm...\")\n        let markText = `${date.getFullYear()}-${date.getMonth()+1}-${date.getDate()} ${date.getHours()}:${date.getMinutes()}`;\n        let w = canvas.measureText(markText).width;\n        canvas.strokeText(markText, x - w / 2, 25);\n\n        console.debug(`bar line: {${x},${7}} - {${x},${10}}`);\n    }\n}\n\n// Calculates how many bars should be placed on the chart and where it should be placed.\nclass ScaleFit\n{\n    private readonly interval: TimeInterval; // Defines maximum zoom\n    private range: IRange<Date>;\n\n    private minBars: number;\n    private maxBars: number;\n\n    private scales = [\n        60000, // 1 min\n        300000, // 5 min\n        600000, // 10 min\n        900000, // 15 min\n        1800000, // 30 min\n        3600000, // 1h\n        14000000, // 4h\n        21600000, // 6h\n        43200000, // 12h\n        86400000, // 1d\n        259200000, // 3d\n        604800000, // 7d\n        864000000, // 10d\n        2678400000, // 1m\n    ];\n\n    private selectedScale: number = 0;\n\n    constructor(width: number, interval: TimeInterval, range: IRange<Date>) {\n\n        this.interval = interval;\n        this.range = range;\n\n        // Calculate min and max count of bars that can be placed on the chart\n        [this.minBars, this.maxBars] = this.getMinMaxBars(width);\n\n        // Choose fitting scale\n        let dateRange = Math.abs(range.end.getTime() - range.start.getTime());\n\n        this.selectedScale = 0;\n\n        for (var scale of this.scales) {\n            if (scale < interval) {\n                continue;\n            }\n\n            // how many bars require this scale:\n            let barsRequired = Math.ceil(dateRange / scale + 1);\n\n            if (barsRequired >= this.minBars && barsRequired <= this.maxBars) {\n                this.selectedScale = scale;\n                break;\n            }\n        }\n    }\n\n    public getBars(): Date[]\n    {\n        if (this.selectedScale == 0) {\n            return [];\n        }\n\n        let bars: Date[] = [];\n\n        // Calculate first bar\n        let bar: Date;\n\n        // ... if start time is placed on bar use it, otherwise calculate where first bar lays\n        if (this.range.start.getTime() % this.selectedScale == 0)\n        {\n            bar = this.range.start;\n        }\n        else {\n            // ... add scale value and truncate \n            let time = this.range.start.getTime() + this.selectedScale;\n            bar = new Date(time - (time % this.selectedScale));\n        }\n\n        // Calculate remaining bars\n        let t: number = bar.getTime();\n        let end = this.range.end.getTime();\n        while (t <= end) {\n            bars.push(new Date(t));\n            t += this.selectedScale;\n        }\n\n        return bars;\n    }\n\n    private getMinMaxBars(w: number): number[] {\n\n        // TODO: what if width does not allow any bars\n        return [\n            3,               // minimum bars\n            Math.max(w / 50) // maximum bars\n        ];\n    }\n}\n\n","﻿/**\n * CandlestickChartRenderer\n * \n * @classdesc Renders specified data in a form of candlestick chart.\n */\n\nimport { IAxis } from '../axes';\nimport { ICanvas } from '../canvas';\nimport { Candlestick } from '../model';\nimport { ISize } from '../shared';\n\nexport class CandlestickChartRenderer  {\n\n    public constructor() { }\n\n    public render(\n        canvas: ICanvas,\n        data: any,\n        offsetX: number,\n        offsetY: number,\n        timeAxis: IAxis<Date>,\n        yAxis: IAxis<number>): void {\n\n        console.debug(`[CandlestickChartRenderer] start rendering...`);\n\n        // Calculate size of frame\n\n        let frameSize: ISize = {\n            width: canvas.w,\n            height: canvas.h\n        };\n\n        // Render\n        //\n        this.startRender(canvas);\n        for (var candle of data.data) {\n            this.renderCandle(canvas, timeAxis, yAxis, candle, frameSize);\n        }\n        this.finishRender(canvas);\n    }\n\n    private startRender(canvas: ICanvas): void {\n\n    }\n\n    private finishRender(canvas: ICanvas): void {\n\n    }\n\n    private renderCandle(canvas: ICanvas, \n        timeAxis: IAxis<Date>,\n        yAxis: IAxis<number>, candle: Candlestick, frameSize: ISize): void {\n\n        // Lower and upper ranges of the candle's body.\n        //let bodyMin = Math.min(candle.o, candle.c);\n        //let bodyMax = Math.max(candle.o, candle.c);\n\n        // Startin drawing\n        canvas.setStrokeStyle('#333333');\n        canvas.beginPath();\n\n        let x = timeAxis.toX(candle.date);\n        let ocMin = yAxis.toX(Math.min(candle.o, candle.c)),\n            ocMax = yAxis.toX(Math.max(candle.o, candle.c)),\n            h = yAxis.toX(candle.h),\n            l = yAxis.toX(candle.l);\n\n        // Drawing upper shadow\n        this.line(canvas, x, ocMax, x, h );\n\n        // Drawing lower shadow\n        this.line(canvas, x, l, x, ocMin);\n\n        canvas.stroke();\n        canvas.closePath();\n\n        // Drawing body\n        if (candle.c > candle.o) {\n            canvas.setFillStyle('#008910');\n        }\n        else {\n            canvas.setFillStyle('#D80300');\n        }\n\n        this.rect(canvas, x - 1, ocMin, x + 1, ocMax\n        );\n    }\n\n    private line(canvas: ICanvas, x1: number, y1: number, x2: number, y2: number): void {\n        console.debug(`line: {${x1},${y1}} - {${x2},${y2}}`);\n        canvas.moveTo(x1, y1);\n        canvas.lineTo(x2, y2);\n    }\n\n    private rect(canvas: ICanvas, x1: number, y1: number, x2: number, y2: number): void {\n        console.debug(`rect: {${x1},${y1}} - {${x2},${y2}}`);\n        canvas.fillRect(x1, y1, Math.abs(x2 - x1), Math.abs(y2-y1));\n        canvas.strokeRect(x1, y1, Math.abs(x2 - x1), Math.abs(y2 - y1));\n    }\n}\n","/**\n * Render related enums.\n */\nexport enum RenderType {\n    Candlestick,\n    Line\n}\n","﻿/**\n * LineChartRenderer\n * \n * @classdesc Renders specified data in a form of line chart.\n */\n\nimport { IAxis } from '../axes';\nimport { ICanvas } from '../canvas';\nimport { Point } from '../model';\nimport { ISize } from '../shared';\n\nexport class LineChartRenderer {\n\n    public static render(\n        canvas: ICanvas,\n        data: any,\n        offsetX: number,\n        offsetY: number,\n        timeAxis: IAxis<Date>,\n        yAxis: IAxis<number>): void {\n\n        console.debug(`[LineChartRenderer] start rendering...`);\n\n        // Calculate size of frame\n\n        let frameSize: ISize = {\n            width: canvas.w,\n            height: canvas.h\n        };\n\n        // Calculate size of candles\n\n        // Render\n        for (let i = 1; i < data.data.length; i++) {\n            this.renderPart(canvas, timeAxis, yAxis, data.data[i-1], data.data[i], frameSize);\n        }\n    }\n\n    private static renderPart(canvas: ICanvas, \n        timeAxis: IAxis<Date>,\n        yAxis: IAxis<number>, pointFrom: Point, pointTo: Point, frameSize: ISize): void {\n\n        // Startin drawing\n        canvas.setStrokeStyle('#555555');\n        canvas.beginPath();\n\n        let x1 = timeAxis.toX(pointFrom.date),\n            y1 = yAxis.toX(pointFrom.value);\n\n        let x2 = timeAxis.toX(pointTo.date),\n            y2 = yAxis.toX(pointTo.value);\n\n        // Drawing upper shadow\n        this.line(canvas, x1, y1, x2, y2);\n\n        canvas.stroke();\n        canvas.closePath();\n    }\n\n    private static line(canvas: ICanvas, x1: number, y1: number, x2: number, y2: number): void {\n        console.debug(`line: {${x1},${y1}} - {${x2},${y2}}`);\n        canvas.moveTo(x1, y1);\n        canvas.lineTo(x2, y2);\n    }\n}\n","/**\n * \n */\nimport { AxisRenderer } from './AxisRenderer';\nimport { CandlestickChartRenderer } from './CandlestickChartRenderer';\nimport { RenderType } from './Enums';\nimport { LineChartRenderer } from './LineChartRenderer';\n\nexport {\n    AxisRenderer,\n    CandlestickChartRenderer,\n    LineChartRenderer,\n    RenderType\n };\n","﻿/**\n * Typed events for TypeScript.\n */\n\nexport interface IEventHandler<T> {\n    (arg?: T): void;\n}\n\nexport interface IEvent<T> {\n    on(handler: IEventHandler<T>): void;\n    off(handler: IEventHandler<T>): void;\n}\n\nexport class Event<T> implements IEvent<T> {\n    private handlers: IEventHandler<T>[] = [];\n\n    public on(handler: IEventHandler<T>) {\n        this.handlers.push(handler);\n    }\n\n    public off(handler: IEventHandler<T>) {\n        this.handlers = this.handlers.filter(h => h !== handler);\n    }\n\n    public trigger(data?: T) {\n        this.handlers\n            .slice(0)\n            .forEach(h => h(data));\n    }\n}\n","/**\n * \n */\nimport { Event, IEvent, IEventHandler } from './Event';\nimport { IHashTable, IRange, IRect, ISize } from './Interfaces';\n\nexport {\n    Event,\n    IEvent,\n    IEventHandler,\n    IHashTable,\n    IRange,\n    IRect,\n    ISize\n};\n","/**\n * \n */\n\nimport {\n    Chart,\n    ChartArea,\n    ChartBoard,\n    ChartStack,\n    TimeInterval,\n    Unit\n} from './lib/core';\n\nimport * as axes from './lib/axes';\nimport * as canvas from './lib/canvas';\nimport * as data from './lib/data';\nimport * as indicator from './lib/indicator';\nimport * as interaction from './lib/interaction';\nimport * as model from './lib/model';\nimport * as render from './lib/render';\nimport * as shared from './lib/shared';\n\n// export {\n//     ChartBoard\n// }\n\n(<any>window).lychart = {\n    Chart: Chart,\n    ChartArea: ChartArea,\n    ChartBoard: ChartBoard,\n    ChartStack: ChartStack,\n    TimeInterval: TimeInterval,\n    Unit: Unit,\n    // \n    axes: axes,\n    canvas: canvas,\n    data: data,\n    indicator: indicator,\n    interaction: interaction,\n    model: model,\n    render: render,\n    shared: shared\n};\n"]}